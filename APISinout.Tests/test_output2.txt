  Determinando os projetos a serem restaurados...
  Todos os projetos estão atualizados para restauração.
  APISinout -> C:\Users\Eduar\Downloads\PROA\sinout-back\bin\Debug\net8.0\APISinout.dll
  APISinout.Tests -> C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\bin\Debug\net8.0\APISinout.Tests.dll
Execução de teste para C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\bin\Debug\net8.0\APISinout.Tests.dll (.NETCoreApp,Version=v8.0)
Versão do VSTest 18.0.1 (x64)

Iniciando execução de teste, espere...
1 arquivos de teste no total corresponderam ao padrão especificado.
[xUnit.net 00:00:00.54]     APISinout.Tests.Unit.Services.EmailServiceTests.SendPasswordResetEmailAsync_WithValidEmail_ShouldLogInformation [SKIP]
  Ignorado APISinout.Tests.Unit.Services.EmailServiceTests.SendPasswordResetEmailAsync_WithValidEmail_ShouldLogInformation [1 ms]
  Com falha APISinout.Tests.Integration.Controllers.UserControllerIntegrationTests.UpdatePatientName_WithValidData_ShouldReturn200OK [1 s]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.MethodNotAllowed {value: 405}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.UserControllerIntegrationTests.UpdatePatientName_WithValidData_ShouldReturn200OK() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\UserControllerIntegrationTests.cs:line 142
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyStatistics_WithCustomHours_ShouldReturn200OK [1 s]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.NotFound {value: 404}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyStatistics_WithCustomHours_ShouldReturn200OK() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 259
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.UserControllerIntegrationTests.UpdatePatientName_WithoutAuth_ShouldReturn401Unauthorized [73 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.MethodNotAllowed {value: 405}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.UserControllerIntegrationTests.UpdatePatientName_WithoutAuth_ShouldReturn401Unauthorized() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\UserControllerIntegrationTests.cs:line 160
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetUserStatistics_AsOwner_ShouldReturn200OK [554 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.NotFound {value: 404}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetUserStatistics_AsOwner_ShouldReturn200OK() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 323
--- End of stack trace from previous location ---
[xUnit.net 00:00:02.56]     APISinout.Tests.Unit.Services.EmailServiceTests.SendPasswordResetEmailAsync_WithoutCredentials_ShouldLogAndReturnWithoutError [SKIP]
  Ignorado APISinout.Tests.Unit.Services.EmailServiceTests.SendPasswordResetEmailAsync_WithoutCredentials_ShouldLogAndReturnWithoutError [1 ms]
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyHistory_WithCustomHours_ShouldReturn400BadRequest [423 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400}, but found HttpStatusCode.OK {value: 200}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyHistory_WithCustomHours_ShouldReturn400BadRequest() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 139
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetHistoryByUser_AsNonOwner_ShouldReturn400BadRequest [691 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400}, but found HttpStatusCode.NotFound {value: 404}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetHistoryByUser_AsNonOwner_ShouldReturn400BadRequest() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 197
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyHistory_WithCustomHours_ShouldReturn404NotFound [284 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.NotFound {value: 404}, but found HttpStatusCode.OK {value: 200}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyHistory_WithCustomHours_ShouldReturn404NotFound() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 153
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyStatistics_WithoutAuth_ShouldReturn401Unauthorized [2 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.NotFound {value: 404}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyStatistics_WithoutAuth_ShouldReturn401Unauthorized() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 234
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyStatistics_WithValidToken_ShouldReturn200OK [270 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.NotFound {value: 404}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyStatistics_WithValidToken_ShouldReturn200OK() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 222
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetHistoryByUser_AsOwner_ShouldReturn200OK [263 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.NotFound {value: 404}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetHistoryByUser_AsOwner_ShouldReturn200OK() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 178
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetUserStatistics_AsNonOwner_ShouldReturn400BadRequest [500 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400}, but found HttpStatusCode.NotFound {value: 404}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetUserStatistics_AsNonOwner_ShouldReturn400BadRequest() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 344
--- End of stack trace from previous location ---
  Com falha APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyStatistics_WithCustomHours_ShouldReturn400BadRequest [249 ms]
  Mensagem de erro:
   Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400}, but found HttpStatusCode.NotFound {value: 404}.
  Rastreamento de pilha:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at APISinout.Tests.Integration.Controllers.HistoryControllerIntegrationTests.GetMyStatistics_WithCustomHours_ShouldReturn400BadRequest() in C:\Users\Eduar\Downloads\PROA\sinout-back\APISinout.Tests\Integration\Controllers\HistoryControllerIntegrationTests.cs:line 285
--- End of stack trace from previous location ---

Com falha! – Com falha:    12, Aprovado:   350, Ignorado:     2, Total:   364, Duração: 6 s - APISinout.Tests.dll (net8.0)
